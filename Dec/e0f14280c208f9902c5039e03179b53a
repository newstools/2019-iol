BAGHDAD - Protesters and militia fighters enraged by U.S. air strikes on Iraq staged a violent demonstration outside the U.S. Embassy in Baghdad on Tuesday, torching a security post and hurling stones as security forces and embassy guards hit back with stun grenades and tear gas. Iraqi officials said the ambassador and other staff had been evacuated, but this could not be confirmed with American officials. In Washington, U.S. President Donald Trump accused Iran of orchestrating the violence and said Tehran would be held responsible. The protesters and militiamen stormed and burned a security post at the entrance of the U.S. Embassy but did not breach the main compound, Reuters witnesses said. They threw stones at the gate while others chanted, "No, no, America! No, no, Trump!" Iraqi special forces were deployed around the main gate to prevent them entering the embassy. U.S.-trained and -equipped Iraqi Counter Terrorism forces later reinforced them. Medical sources said 12 militiamen were wounded by the tear gas and stun grenades fired to disperse the crowd. U.S. planes on Sunday had attacked bases belonging to an Iranian-backed militia - an action that risks drawing Iraq further into a proxy conflict between Washington and Tehran at a time when mass protests are challenging Iraq's political system. The attack on the Kataib Hezbollah militia was in response to the killing of a U.S. civilian contractor in a rocket attack on an Iraqi military base. "Iran killed an American contractor, wounding many. We strongly responded, and always will," Trump said in a tweet. "Now Iran is orchestrating an attack on the U.S. Embassy in Iraq. They will be held fully responsible. In addition, we expect Iraq to use its forces to protect the Embassy, and so notified." Two Iraqi foreign ministry officials said the U.S. ambassador and other staff had left, but they did not say when. The Washington Post reported that inside the embassy, U.S. diplomats and staffers were huddled in a fortified safe room, according to two reached by a messaging app. A few hours into the protest, tear gas was fired in an attempt to disperse the crowd and some of the militias encouraged protesters through loudspeakers to leave. "We have delivered our message, please leave the area to avoid bloodshed," one announcement said. Security guards inside the embassy also fired stun grenades at protesters outside the gates of the compound. Reuters correspondents heard at least seven loud bangs. A Reuters witness saw blood on the face of one wounded militiamen and on the stomach of the other as their colleagues carried them away from the scene.  'CLOSED IN THE NAME OF THE PEOPLE' Iraqis have been taking to the streets in their thousands almost daily to condemn, among other things, militias such as Kataib Hezbollah and their Iranian patrons that support Iraqi Prime Minister Adel Abdul Mahdi's government. But on Tuesday, it was the militias who protested, spraying "Closed in the name of the people" on the gates of the U.S. Embassy and smashed the surveillance cameras around the building with bricks and stones. Qais al-Khazali, leader of the Iranian-backed Asaib Ahl al-Haq militia, and many other senior leaders were among the protesters. "Americans are unwanted in Iraq. They are a source of evil and we want them to leave," Khazali told Reuters. Khazali is one of the most feared and respected Shi'ite militia leaders in Iraq, and one of Iran's most important allies. Kataib Hezbollah is one of the smallest but most potent of the Iranian-backed militias. Its flags were hung on the fence surrounding the embassy. Militia commander Jamal Jaafar Ibrahimi, also known as Abu Mahdi al-Mohandes, and Badr Organisation leader Hadi al-Amiri were also at the protest. U.S. Secretary of State Mike Pompeo spoke to Prime Minister Adil Abdul-Mahdi and President Barham Salih by telephone from Washington and he said they had guaranteed the safety of U.S. personnel and property. "The Secretary made clear the United States will protect and defend its people, who are there to support a sovereign and independent Iraq," a State Department spokeswoman said. More than 5,000 U.S. troops are stationed in Iraq supporting local forces, though Iraq has rejected any long-term presence of additional U.S. forces that crossed its border during an American withdrawal from northern Syria. Sunday's air strikes killed at least 25 fighters and wounded 55.
WASHINGTON - The U.S. Congress on Thursday aimed to end a dispute over border security with bipartisan legislation that would avert another partial government shutdown but does not give President Donald Trump the money he sought for a wall on the U.S.-Mexico border. The measure faces votes in the Republican-led Senate and Democratic-controlled House of Representatives before going to the Republican president, who has not yet announced whether he will sign it. Trump triggered a 35-day-long shutdown of about a quarter of the federal government with his December demand for $5.7 billion to help build a wall, but did not get the money in a deal that ended that shutdown and does not get it in the legislation now before lawmakers. Late on Wednesday, negotiators put the finishing touches on the legislation that would provide more than $300 billion to fund the Department of Homeland Security and a range of other federal agencies through Sept. 30, the end of the current fiscal year. Funding is due to expire for those agencies on Friday. Senate Majority Leader Mitch McConnell, speaking on the Senate floor, called the legislation "a compromise that no side will view as a perfect deal," but he called it "a success for our bipartisan process" and reiterated his call for Trump to sign it. The legislation would provide $1.37 billion in new money to help build 55 miles (88.5 km) of new physical barriers on the border. It is the same level of funding Congress appropriated for border security measures last year, including barriers but not concrete walls. "When the Senate votes on the agreement, we'll be voting to avoid a second partial shutdown and provide the certainty of a fully functioning federal government," Senate Majority Leader Mitch McConnell said. "Later today, I hope each of my colleagues will join me in moving forward with the agreement produced by this hard work and the president will sign it into law." The legislation would also fund the Justice Department, Commerce Department, State Department, Department of Agriculture, Internal Revenue Service and others, covering roughly 800,000 federal workers. Failure to enact it would shutter many government programs, from national parks maintenance and air traffic controller training programs to the collection and publication of important data for financial markets, for the second time this year. Trump, widely blamed for the previous shutdown, said on Wednesday he would hold off on a decision on the legislation until he examines the final version. White House economic adviser Larry Kudlow, speaking to reporters at the White House on Thursday, said Trump now is "taking a look" at the measure.  'LET'S ALL PRAY' Republican Senator Chuck Grassley, who was presiding over the opening of the Senate, added his own prayer at the end of a prayer by the guest chaplain. "Let's all pray that the president will have the wisdom to sign the bill so the government doesn't shut down," Grassley said. Since he ran for office in 2016, Trump has been demanding billions of dollars to build a wall on the southwest border, saying a national security crisis required a quick response to curb illegal immigration and drug trafficking. He originally said Mexico would pay for the wall along the 2,000-mile (3,200-km) border, an idea Mexico dismissed. "This agreement denies funding for President Trump's border wall and includes several key measures to make our immigration system more humane," House Appropriations Committee Chairwoman Nita Lowey, a Democrat, said in a statement. Republican Senator Lindsey Graham, who is in regular contact with the White House, said Trump was "inclined to take the deal and move on." But Graham also told reporters Trump would then look elsewhere to find more money to build the wall and was "very inclined" to declare a national emergency to secure the funds. Such a move, bypassing Congress and redirecting funds previously approved by lawmakers for other purposes in order to construct the wall, likely would spark a court battle, as it is Congress and not the president that mainly decides how federal funds get spent under the U.S. Constitution. Several Republicans have cautioned Trump against taking the unilateral action. Under the bill, the government could hire 75 new immigrant judge teams to help reduce a huge backlog in cases and hundreds of additional border patrol agents. Hoping to reduce violence and economic distress in Central America that fuels immigrant asylum cases in the United States, the bill also provides $527 million to continue humanitarian assistance to those countries. The House Appropriations Committee said the bill would set a path for reducing capacity at detention facilities for immigrants ahead of possible deportation. The panel said it would reduce the number of beds at the detention facilities to about 40,520 by the end of the fiscal year, down from a current count of approximately 49,060. Democrats sought reductions, arguing that would force federal agents to focus on apprehending violent criminals and repeat offenders and discourage arrests of undocumented immigrants for minor traffic violations, for example. The Republican-led Senate Appropriations Committee said there were provisions in the bill that could result in an increase in detention beds from last year.
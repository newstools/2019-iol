London - After several days of intense criticism by President Donald Trump, who called the British ambassador to Washington a "pompous fool" and said his administration would no longer work with him, Kim Darroch on Wednesday resigned his post. Darroch had become embroiled in controversy after a cache of secret diplomatic cables were leaked to a British tabloid over the weekend. The memos from Darroch described the Trump as "insecure" and said that the administration was "inept" and "dysfunctional." Trump reacted by tweeting that Darroch was "wacky" and "a very stupid guy" and "a pompous fool." Trump went on to insult outgoing Prime Minister Theresa May for her "failed Brexit negotiation." Trump boasted that he told May how to do the deal, "but she went her own foolish way - was unable to get it done. A disaster!" May said to Parliament on Wednesday that she told Darroch that it is a "matter of great regret that he has felt it necessary to leave his position as ambassador in Washington." "Sir Kim has given a lifetime of service to the United Kingdom and we owe him an enormous debt of gratitude," she said at the start of Prime Minister's Questions. "Good government depends on public servants being able to give full and frank advice," she said, adding, "I hope the House will reflect on the importance of defending our values and principles, particularly when they are under pressure." In a letter to permanent undersecretary at the Foreign and Commonwealth Office, Darroch wrote, "the current situation is making it impossible for me to carry out my role as I would like." Darroch noted that his tenure was scheduled to last until the end of the year, but he had decided to depart now. The name-calling, between two close allies, took on a heightened tone because May will leave 10 Downing Street in a matter of days, likely to be replaced by former foreign secretary Boris Johnson. At a debate on Tuesday evening, Johnson declined to criticise Trump for his tweets and would not promise to keep Darroch on the job - as May had done. In his letter, Darroch wrote, "I am grateful to all those in the UK and the US, who have offered their support during this difficult few days. This has brought home to me the depth of friendship and close ties between our two countries. I have been deeply touched."